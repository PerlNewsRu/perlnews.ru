---
last\_modified: 2015-05-06 10:32:29
tags: CPAN, benchmark
author: perlnews
title: Улучшения в производительности Hash::Ordered
---

[Hash::Ordered](https://metacpan.org/pod/Hash::Ordered) — это модуль для
создания упорядоченных хешей, ключи в которых хранятся в заданном порядке.
Поскольку модуль написан на чистом Perl, а упорядоченные хеши --- это объекты,
операции над которыми производятся с помощью методов, то подобный хеш работает
медленнее, чем обычный хеш. Такова цена сохранения упорядоченности хеша.

Как
[сообщает](http://www.dagolden.com/index.php/2461/faster-ordered-hashes-for-perl/)
Дэвид Голден в новой версии
[0.009](https://metacpan.org/release/DAGOLDEN/Hash-Ordered-0.009/) сделана
оптимизация, которая в некоторых случаях значительно ускоряет работу с
упорядоченными хешами. Было проведено сравнение производительности между
версиями Hash::Ordered 0.002 и 0.009. Для наглядности представлен график
сравнения:

![Бенчмарк Hash::Ordered](/i/2015-05-06-hash_ordered_benchmark.png)

Виден рост по многим тестам, особенно выросла производительность при удалении в
хеше с большим числом элементов. Практически не изменилась скорость замены
элементов, несколько снизилась скорость добавления (за счёт проверки, что ключ
— это строка, а не ссылка).
